<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Sun Mar 18 21:49:10 2018 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>jwst_t_to_a.pro (Documentation for /Users/penton/JWST/pro/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="jwst_t_to_a.pro (Documentation for /Users/penton/JWST/pro/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;</span>
<span class="comments">; Visit24</span>
<span class="comments">;From guiding: guider 1, X ideal -38.944 Y ideal 28.479</span>
<span class="comments">; 2018:006:03:22:58.089	AD	FSW	8232	Dither SAM (x, y) = -0.133897232, -0.260026739</span>
<span class="comments">;</span>
<span class="comments">; start itst_oss_fgses_los_set ( "GUIDER1",-39.078,28.219)</span>
<span class="comments">; From guiding: guider 1, X ideal -39.078 Y ideal 28.219</span>
<span class="comments">; 2018:006:03:24:12.393	AD	FSW	8232	Dither SAM (x, y) = -0.192279290, 0.331307302</span>
<span class="comments">;</span>
<span class="comments">; start itst_oss_fgses_los_set ( "GUIDER1",-39.27,28.55)</span>
<span class="comments">;</span>
<span class="comments">; From guiding: guider 1 X ideal -39.27 Y ideal 28.55</span>
<span class="comments">;	2018:006:03:29:49.951	AD	FSW	8270	target location (v2, v3) = (-351.566018, -685.258708)</span>
<span class="comments">;	2018:006:03:29:50.954	AD	FSW	8231	TA SAM (x, y) = 0.497037285, -1.03568517</span>
<span class="comments">;</span>
<span class="comments">; detector coord (colCentroid, rowCentroid) = (834.420850, 86.2091045)</span>
<span class="comments">;</span>
<span class="comments">; last iteration diff (col, row) = (0.0266660809, 0.0180840470)</span>
<span class="comments">;</span>
<a id="jwst_t_to_a:source"></a>function jwst_t_to_a,v2a,v3a,v2t,v3t,verbose=verbose
	if n_elements(verbose) ne 1 then verbose=0

	<span class="comments">; v2a = v2 Aperture in arcsec</span>
	<span class="comments">; v2t = v2 Target in arcsec</span>

	rcs_id="$Id: jwst_t_to_a.pro,v 1.4 2018/02/27 20:53:12 penton Exp $"

	m1=(-1.0D)
	R3v2a=jwst_rot3(v2a,/in_arcsec)
	R2dv3=jwst_rot2((v3t-v3a),/in_arcsec)
	R2mv3a=jwst_rot2(m1*v3a,/in_arcsec)
	R2v3t=jwst_rot2(v3t,/in_arcsec)
	R2dv3=jwst_rot2((v3t-v3a),/in_arcsec)

	R3mv2t=jwst_rot3(m1*v2t,/in_arcsec)

	NM=R3v2a#(R2dv3#R3mv2t)
	NM2=R3v2a#(R2mv3a#(R2v3t#R3mv2t))

	if verbose then begin
		print,'--'
		print,R3v2a
		print,'--'
		print,R2dv3
		print,'--'
		print,R3mv2t
		print,'----'
		forprint,NM,NM2,NM-NM2
		print,'----'
	endif

	return,NM
end
</code>
    </div>
  </body>
</html>